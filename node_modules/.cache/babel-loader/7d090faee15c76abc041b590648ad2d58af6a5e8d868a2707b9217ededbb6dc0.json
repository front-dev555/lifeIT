{"ast":null,"code":"export const applyMiddleware = function () {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n  return createStore => reducer => {\n    const store = createStore(reducer);\n    let dispatch = () => {\n      throw new Error('Dispatching while constructing your middleware is not allowed.');\n    };\n    const middlewareAPI = {\n      getState: store.getState,\n      dispatch: action => dispatch(action)\n    };\n    const chain = middlewares.map(middleware => middleware(middlewareAPI));\n    dispatch = chain.reduceRight((next, middleware) => middleware(next), store.dispatch);\n    return {\n      ...store,\n      dispatch\n    };\n  };\n};","map":{"version":3,"names":["applyMiddleware","_len","arguments","length","middlewares","Array","_key","createStore","reducer","store","dispatch","Error","middlewareAPI","getState","action","chain","map","middleware","reduceRight","next"],"sources":["/Users/donpindyukel/Downloads/test-project/src/quax/applyMiddleware.ts"],"sourcesContent":["import { StoreCreator, StoreEnhancer, Dispatch, Middleware } from './types';\nimport { AppState } from '../ducks/types';\nimport { AppAction } from '../ducks/actions';\n\nexport const applyMiddleware = <S = AppState, A = AppAction>(\n  ...middlewares: Middleware<S, A>[]\n): StoreEnhancer<S, A> => {\n  return (createStore: StoreCreator<S, A>) =>\n    (reducer: (state: S | undefined, action: A) => S) => {\n      const store = createStore(reducer);\n      let dispatch: Dispatch<A> = () => {\n        throw new Error('Dispatching while constructing your middleware is not allowed.');\n      };\n\n      const middlewareAPI = {\n        getState: store.getState,\n        dispatch: (action: A) => dispatch(action),\n      };\n\n      const chain = middlewares.map(middleware => middleware(middlewareAPI));\n      dispatch = chain.reduceRight(\n        (next, middleware) => middleware(next),\n        store.dispatch\n      );\n\n      return {\n        ...store,\n        dispatch,\n      };\n    };\n};\n"],"mappings":"AAIA,OAAO,MAAMA,eAAe,GAAG,SAAAA,CAAA,EAEL;EAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EADrBC,WAAW,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;IAAXF,WAAW,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;EAAA;EAEd,OAAQC,WAA+B,IACpCC,OAA+C,IAAK;IACnD,MAAMC,KAAK,GAAGF,WAAW,CAACC,OAAO,CAAC;IAClC,IAAIE,QAAqB,GAAGA,CAAA,KAAM;MAChC,MAAM,IAAIC,KAAK,CAAC,gEAAgE,CAAC;IACnF,CAAC;IAED,MAAMC,aAAa,GAAG;MACpBC,QAAQ,EAAEJ,KAAK,CAACI,QAAQ;MACxBH,QAAQ,EAAGI,MAAS,IAAKJ,QAAQ,CAACI,MAAM;IAC1C,CAAC;IAED,MAAMC,KAAK,GAAGX,WAAW,CAACY,GAAG,CAACC,UAAU,IAAIA,UAAU,CAACL,aAAa,CAAC,CAAC;IACtEF,QAAQ,GAAGK,KAAK,CAACG,WAAW,CAC1B,CAACC,IAAI,EAAEF,UAAU,KAAKA,UAAU,CAACE,IAAI,CAAC,EACtCV,KAAK,CAACC,QACR,CAAC;IAED,OAAO;MACL,GAAGD,KAAK;MACRC;IACF,CAAC;EACH,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}